<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for contracts\CrowdSale.sol</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../prettify.css" />
    <link rel="stylesheet" href="../base.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class='wrapper'>
  <div class='pad1'>
    <h1>
      <a href="../index.html">all files</a> / <a href="index.html">contracts/</a> CrowdSale.sol
    </h1>
    <div class='clearfix'>
      <div class='fl pad1y space-right2'>
        <span class="strong">100% </span>
        <span class="quiet">Statements</span>
        <span class='fraction'>64/64</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">92.24% </span>
        <span class="quiet">Branches</span>
        <span class='fraction'>107/116</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">100% </span>
        <span class="quiet">Functions</span>
        <span class='fraction'>22/22</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">100% </span>
        <span class="quiet">Lines</span>
        <span class='fraction'>96/96</span>
      </div>
    </div>
  </div>
  <div class='status-line high'></div>
<pre><table class="coverage">
<tr><td class="line-count quiet">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421</td><td class="line-coverage quiet"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">6×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">4×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">31×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">29×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">29×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">28×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">28×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">27×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">7×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">6×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">5×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">4×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">10×</span>
<span class="cline-any cline-yes">14×</span>
<span class="cline-any cline-yes">13×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">7×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">6×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">6×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">5×</span>
<span class="cline-any cline-yes">5×</span>
<span class="cline-any cline-yes">5×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">5×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">27×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">27×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">27×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">27×</span>
<span class="cline-any cline-yes">10×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">10×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">9×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">8×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">4×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">4×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">10×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">9×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">8×</span>
<span class="cline-any cline-yes">8×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">7×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">7×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">6×</span>
<span class="cline-any cline-yes">6×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">5×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">20×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">20×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">20×</span>
<span class="cline-any cline-yes">20×</span>
<span class="cline-any cline-yes">20×</span>
<span class="cline-any cline-yes">20×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">8×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">20×</span>
<span class="cline-any cline-yes">20×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">20×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">20×</span>
<span class="cline-any cline-yes">16×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">20×</span>
<span class="cline-any cline-yes">8×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">8×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">24×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">6×</span>
<span class="cline-any cline-yes">6×</span>
<span class="cline-any cline-yes">6×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">13×</span>
<span class="cline-any cline-yes">12×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">11×</span>
<span class="cline-any cline-yes">11×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">7×</span>
<span class="cline-any cline-yes">6×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">5×</span>
<span class="cline-any cline-yes">5×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">6×</span>
<span class="cline-any cline-yes">5×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">4×</span>
<span class="cline-any cline-yes">4×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">6×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;
&nbsp;
import "@openzeppelin/contracts/token/ERC20/utils/SafeERC20.sol";
import "@openzeppelin/contracts/utils/Address.sol";
import "./TokenVesting.sol";
import "@openzeppelin/contracts/token/ERC20/ERC20.sol";
import "@openzeppelin/contracts/token/ERC721/IERC721.sol";
import "@openzeppelin/contracts/security/ReentrancyGuard.sol";
&nbsp;
contract Crowdsale is Context, Ownable, ReentrancyGuard {
    using SafeMath for uint256;
    using Address for address;
    using SafeERC20 for ERC20;
&nbsp;
    // tokens and contracts
    ERC20 public token;
    IERC721 public memberCard;
    TokenVesting public vestingContract;
&nbsp;
    // sale addresses
    address payable public treasury_1;
    address payable public treasury_2;
        
    // rates
    uint256 public tokenAmountRateOne = 1667; // per ETH // 40% off -&gt; 66% more tokens
    uint256 public tokenAmountRateTwo = 1250;  // per ETH // 20% off -&gt; 25% more tokens
    uint256 public tokenAmountRateThree = 1000;  // per ETH 
    uint256 public tokensRaised;
&nbsp;
    // limits
    uint256 public limitPhaseOne; 
    uint256 public limitPhaseTwo; 
    uint256 public limitPhaseThree;
&nbsp;
    uint256 public minimumBuyAmount = 1 * 1e16; // 0.01 ETH
    bool public isIcoCompleted = false;
    bool public hasIcoPaused = false;
&nbsp;
    // round handlers (there are three presale rounds): for member card holders, for whitelisted addresses and public
    bool public isIcoFirstRoundCompleted = false;
    bool public isIcoSecondRoundCompleted = false;
    uint256 public startCrowdsaleTime;
    uint256 public startSecondRoundTime;
    uint256 public startThirdRoundTime;
&nbsp;
    uint256 public whiteListSpots = 100;
&nbsp;
    // whitelisted addressed
    mapping(address =&gt; bool) public whiteListed;
&nbsp;
    event TokenBuy(address indexed buyer, uint256 value, uint256 amount);
    event Whitelist(address indexed whitelisted);
    event Close();
    event SetTime(string indexed round, uint256 timestamp);
&nbsp;
    modifier whenIcoCompleted() {
        require(
            isIcoCompleted,
            "Crowdsale: crowdsale not completed");
        _;
    }
&nbsp;
    modifier onlyAfterStart() {
        require(
            block.timestamp &gt;= startCrowdsaleTime &amp;&amp; startCrowdsaleTime != 0,
            "Crowdsale: crowdsale not started yet"
        );
        _;
    }
&nbsp;
    modifier onlyWhenNotPaused() {
        require(
            !hasIcoPaused, 
            "Crowdsale: crowdsale has paused");
        _;
    }
&nbsp;
    modifier onlyWhenNotCompleted() {
        require(
            !isIcoCompleted, 
            "Crowdsale: crowdsale has completed");
        _;
    }
&nbsp;
    /**
     * @param _token erc20 token address
     * @param _treasury_1 first treasury address
     * @param _treasury_2 second treasury address
     * @param _memberCard erc721 member card
     * @param _vestingContract address of vesting contract
     */
    constructor(
        address _token,
        address payable _treasury_1,
        address payable _treasury_2,
        address _memberCard,
        address _vestingContract
    ) {
        require(
            _token != address(0),
            "Crowdsale: invalid zero address for token provided"
        );
        require(
            _vestingContract != address(0),
            "Crowdsale: invalid zero address for vest provided"
        );
        require(
            _memberCard != address(0),
            "Crowdsale: invalid zero address for member card"
        );
        require(
            _treasury_1 != address(0) &amp;&amp; _treasury_2 != address(0),
            "Crowdsale: invalid zero address for treasury addresses"
        );
        // startCrowdsaleTime = block.timestamp;
        vestingContract = TokenVesting(_vestingContract);
        token = ERC20(_token);
        memberCard = IERC721(_memberCard);
        treasury_1 = _treasury_1;
        treasury_2 = _treasury_2;
&nbsp;
        limitPhaseOne = 75 * 1e3 * (10**token.decimals()); // + 75k
        limitPhaseTwo = 225 * 1e3 * (10**token.decimals()); // + 150k (225k)
        limitPhaseThree = 525 * 1e3 * (10**token.decimals()); // + 300k (525k)
    }
&nbsp;
    /**
     * @dev Set white list address.
     * onlyOwner protected.
     * @param _grantees array of grantee addresses
     * @param set are the _grantees to be whitelisted (true) or revoked (false)?
     */
    function setWhitelist(address[] calldata _grantees, bool set) public onlyOwner {
        // add addresses to whitelist
        for (uint i = 0; i &lt; _grantees.length; i++) {
            require(_grantees[i] != address(0), "Crowdsale: Invalid address for grantee");
            whiteListed[_grantees[i]] = set;
        }
    }
&nbsp;
    /**
     * @dev Allow users to secure one of the limited whitelist spots.
     * Cannot be called after presale has started.
     */
    function secureWhitelistSpot() external {
        require(
            block.timestamp &lt; startCrowdsaleTime,
            "Crowdsale: crowdsale already started"
        );
        <span class="missing-if-branch" title="else path not taken" >E</span>require(whiteListSpots &gt; 0, 
            "Crowdsale: no spot left.");
        require(!whiteListed[msg.sender], 
            "Crowdsale: already whitelisted.");
        whiteListSpots -= 1;
        whiteListed[msg.sender] = true;
        emit Whitelist(msg.sender);
    }
&nbsp;
    /**
     * @dev Return available whitelist spots.
     * @return amount of available white list spots
     */
    function getWhitelistSpots() external view returns (uint256) {
        return whiteListSpots;
    }
&nbsp;
    /**
     * @dev Set treasury addresses.
     * onlyOwner protected.
     * @param _treasury_1 first treasury address
     * @param _treasury_2 second treasury address
     */
    function setTreasury(address payable _treasury_1, address payable _treasury_2) public onlyOwner {
        require (_treasury_1 != address(0), "Crowdsale: invalid address 1");
        require (_treasury_2 != address(0), "Crowdsale: invalid address 2");
        treasury_1 = _treasury_1;
        treasury_2 = _treasury_2;
    }
    /**
     * @dev Set white list address.
     * nonReentrant protected.
     * onlyAfterStart protected.
     * onlyWhenNotPaused protected.
     * onlyWhenNotCompleted protected.
     */
    function buyNative() public payable <span class="missing-if-branch" title="else path not taken" >E</span>nonReentrant onlyAfterStart onlyWhenNotPaused onlyWhenNotCompleted {
        <span class="missing-if-branch" title="else path not taken" >E</span>require(
            tokensRaised &lt; limitPhaseThree,
            "Crowdsale: reached the maximum amount"
        );
        // set user transferred value
        uint256 _amount = msg.value;
        // tokens to buy
        uint256 tokensToBuy = 0;
&nbsp;
        if (tokensRaised &lt; limitPhaseOne) {
            tokensToBuy = _getTokensAmount(_amount, tokenAmountRateOne);
            // round 1 is only for whitelisted addresses
            require(
                whiteListed[_msgSender()], 
                "Crowdsale: Sender not whitelisted."
            );
            require(
                (_amount &gt;= minimumBuyAmount) ||
                    // safetey case to allow for lower purchase if limit is reached
<span class="branch-1 cbranch-no" title="branch not covered" >                    (tokensToBuy &gt;= (limitPhaseOne - tokensRaised))</span>,
                "Crowdsale: minimum eth amount not sent."
            );
            if (tokensRaised + tokensToBuy &gt; limitPhaseOne) {
                // adjust tokensToBuy
                tokensToBuy = limitPhaseOne.sub(tokensRaised);
                // set actual cost based on available tokens
                _amount = _getETHAmount(tokensToBuy, tokenAmountRateOne);
            }
        } else if (tokensRaised &gt;= limitPhaseOne &amp;&amp; tokensRaised &lt; limitPhaseTwo &amp;&amp; isIcoFirstRoundCompleted) {
            require(
                startSecondRoundTime &gt; 0 &amp;&amp; block.timestamp &gt;= startSecondRoundTime,
                "Crowdsale: second round not started!"
            );
            require(
                memberCard.balanceOf(_msgSender()) &gt; 0, 
                "Crowdsale: only for member card holders."
            );
            tokensToBuy = _getTokensAmount(_amount, tokenAmountRateTwo);
            require(
                (_amount &gt;= minimumBuyAmount) ||
<span class="branch-1 cbranch-no" title="branch not covered" >                    (tokensToBuy &gt;= (limitPhaseTwo - tokensRaised))</span>,
                "Crowdsale: minimum eth amount not sent."
            );
            if (tokensRaised + tokensToBuy &gt; limitPhaseTwo) {
                // adjust tokensToBuy
                tokensToBuy = limitPhaseTwo.sub(tokensRaised);
                // set actual cost based on available tokens
                _amount = _getETHAmount(tokensToBuy, tokenAmountRateTwo);
            }
        } else <span class="missing-if-branch" title="else path not taken" >E</span>if (tokensRaised &gt;= limitPhaseTwo &amp;&amp; tokensRaised &lt; limitPhaseThree &amp;&amp; isIcoSecondRoundCompleted) {
            require(
                startThirdRoundTime &gt; 0 &amp;&amp; block.timestamp &gt;= startThirdRoundTime,
                "Crowdsale: third round not started!"
            );
            // public presale
            tokensToBuy = _getTokensAmount(_amount, tokenAmountRateThree);
            require(
                (_amount &gt;= minimumBuyAmount) ||
<span class="branch-1 cbranch-no" title="branch not covered" >                    (tokensToBuy &gt;= (limitPhaseThree - tokensRaised))</span>,
                "Crowdsale: minimum eth amount not sent."
            );
            if (tokensRaised + tokensToBuy &gt; limitPhaseThree) {
                // adjust tokensToBuy
                tokensToBuy = limitPhaseThree.sub(tokensRaised);
                // set actual cost based on available tokens
                _amount = _getETHAmount(tokensToBuy, tokenAmountRateThree);
            }
        }
&nbsp;
        <span class="missing-if-branch" title="else path not taken" >E</span>require(
            tokensToBuy &gt; 0,
            "Crowdsale: insufficient output balance."
        );
&nbsp;
        token.safeTransfer(address(vestingContract), tokensToBuy);
        // transfer funds to treasury addresses
        uint256 split_1 = _amount.div(2);
        treasury_1.transfer(split_1);
        treasury_2.transfer(_amount.sub(split_1));
        if (_amount &lt; msg.value){
            // refund the rest back to sender if _amount &lt; msg.value
            payable(_msgSender()).transfer(msg.value.sub(_amount));
        }
        // non-revokable vest
        vestingContract.vest(_msgSender(), tokensToBuy, false);
        emit TokenBuy(_msgSender(), _amount, tokensToBuy);
        // set raised token amount
        tokensRaised += tokensToBuy;
        // check limits for round 1 and 2
        if (tokensRaised &gt;= limitPhaseOne) {
            isIcoFirstRoundCompleted = true;
        }
        if (tokensRaised &gt;= limitPhaseTwo) {
            isIcoSecondRoundCompleted = true;
        }
    }
&nbsp;
    /**
     * @dev Get ETH amount given a _tokenAmount and the respective _tokenAmountRate per ETH.
     * @param _tokenAmount amont of tokens to be purchased
     * @param _tokenAmountRate amount of tokens per eth
     * @return eth cost
     */
    function _getETHAmount(uint256 _tokenAmount, uint256 _tokenAmountRate)
        internal
        pure
        returns (uint256)
    {
        // tokens -&gt; rate * amount -&gt; amount = tokens/rate
        return _tokenAmount.div(_tokenAmountRate);
    }
&nbsp;
    /**
     * @dev Get token amount given a _value and the respective _tokenAmountRate per ETH.
     * @param _value eth value usable for purchase
     * @param _tokenAmountRate amount of tokens per eth
     * @return amount of tokens to be purchased
     */
    function _getTokensAmount(uint256 _value, uint256 _tokenAmountRate)
        internal
        pure
        returns (uint256)
    {
        // tokens -&gt; rate * _value
        return _value.mul(_tokenAmountRate);
    }
&nbsp;
    /**
     * @dev Close crowedsale.
     * onlyOwner protected.
     */
    function closeCrowdsale() public onlyOwner {
        isIcoCompleted = true;
        vestingContract.startVesting(block.timestamp);
        emit Close();
    }
&nbsp;
    /**
     * @dev Pause crowedsale.
     * onlyOwner protected.
     */
    function togglePauseCrowdsale() public onlyOwner {
        hasIcoPaused = !hasIcoPaused;
    }
&nbsp;
    /**
     * @dev Start crowedsale.
     * onlyOwner protected.
     * @param _time unix time stamp
     */
    function startCrowdSale(uint256 _time) public onlyOwner{
        require(startCrowdsaleTime == 0, "Crowdsale: already set");
        require(
            _time &gt;= block.timestamp,
            "Crowdsale: can not start in past"
        );
        startCrowdsaleTime = _time;
        emit SetTime("1st", _time);
    }
&nbsp;
    /**
     * @dev Start 2nd round.
     * onlyOwner protected.
     * @param _time unix time stamp
     */
    function startSecondRound(uint256 _time) public onlyOwner {
        require(startSecondRoundTime == 0, "Crowdsale: already set");
        require(
            _time &gt;= block.timestamp,
            "Crowdsale: can not start in past"
        );
        startSecondRoundTime = _time;
        emit SetTime("2nd", _time);
    }
&nbsp;
   /**
     * @dev Start 3rd round.
     * onlyOwner protected.
     * @param _time unix time stamp
     */
    function startThirdRound(uint256 _time) public onlyOwner {
        require(startThirdRoundTime == 0, "Crowdsale: already set");
        require(
            _time &gt;= block.timestamp,
            "Crowdsale: can not start in past"
        );
        startThirdRoundTime = _time;
        emit SetTime("3rd", _time);
    }
&nbsp;
    /**
     * @dev Has 2nd round of presale started?
     * @return true if 2nd round has started, else false
     */
    function has2ndRoundStarted() external view returns (bool) {
        return block.timestamp &gt;= startSecondRoundTime &amp;&amp; startSecondRoundTime &gt; 0;
    }
&nbsp;
    /**
     * @dev Has 3rd round of presale started?
     * @return true if 3rd round has started, else false
     */
    function has3rdRoundStarted() external view returns (bool) {
        return block.timestamp &gt;= startThirdRoundTime &amp;&amp; startThirdRoundTime &gt; 0;
    }
&nbsp;
   /**
     * @dev Deposit amount of token into the presale contract.
     * onlyOwner protected.
     * @param _amount amount of tokens to be deposited
     */
    function deposit(uint256 _amount) public onlyOwner {
        token.safeTransferFrom(_msgSender(), address(this), _amount);
    }
&nbsp;
   /**
     * @dev Transfer remaining tokens if presale is closed earlier.
     * onlyOwner protected.
     */
    function withdraw() public whenIcoCompleted onlyOwner {
        uint256 balance = token.balanceOf(address(this));
        token.safeTransfer(_msgSender(), balance);
    }
   /**
     * @dev Withdraw any eth left in contract.
     * onlyOwner protected.
     */
    function withdrawETH() public whenIcoCompleted onlyOwner {
        (bool success, ) = payable(owner()).call{value: address(this).balance}(
            ""
        );
        <span class="missing-if-branch" title="else path not taken" >E</span>require(success);
    }
}</pre></td></tr>
</table></pre>
<div class='push'></div><!-- for sticky footer -->
</div><!-- /wrapper -->
<div class='footer quiet pad2 space-top1 center small'>
  Code coverage
  generated by <a href="http://istanbul-js.org/" target="_blank">istanbul</a> at Sat Feb 18 2023 14:52:57 GMT+0100 (Central European Standard Time)
</div>
</div>
<script src="../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../sorter.js"></script>
</body>
</html>
